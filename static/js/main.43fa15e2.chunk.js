(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{157:function(e,t,a){e.exports=a(302)},164:function(e,t,a){},166:function(e,t,a){},302:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(137),o=a.n(l),i=(a(164),a(30)),c=a(15),u=(a(166),a(301)),s=a(107),d=a.n(s),p=a(358),m=a(376),h=a(377),f=a(378),g=a(379),b=a(372),v=function(e){var t=e.theme,a=e.updateColor,l=Object(n.useState)("#000000"),o=Object(c.a)(l,2),i=o[0],u=o[1],s=Object(n.useState)("#800000"),v=Object(c.a)(s,2),E=v[0],k=v[1];return Object(n.useEffect)(function(){console.log("updateColor",i,E),a(i,E)},[i,E]),r.a.createElement(b.a,{theme:t},r.a.createElement(p.a,null),r.a.createElement(m.a,{sx:{flexGrow:1}},r.a.createElement(h.a,{position:"static"},r.a.createElement(f.a,{disableGutters:!0},r.a.createElement(g.a,{variant:"span",component:"div",sx:{flexGrow:1}},"Plot Layout"),r.a.createElement(m.a,{sx:{flexGrow:1,display:"flex"}},r.a.createElement(g.a,{variant:"span",component:"div",sx:{}},"Plot wall color:"),r.a.createElement(d.a,{name:"plot-color",value:i,onChange:function(e){return u(e)}}),r.a.createElement(g.a,{variant:"span",component:"div",sx:{}},"Builtup wall color:"),r.a.createElement(d.a,{name:"builtup-color",value:E,onChange:function(e){return k(e)}}))))))},E=a(5),k=a(380),j=a(381),O=a(370),w=a(369),y=a(382);function W(e){var t=e.props,a=e.theme,l=e.updateCallback,o=Object(n.useState)(Object(i.a)({},t)),u=Object(c.a)(o,2),s=u[0],d=u[1],m=[[{id:"plotLength.ft",title:"Plot Length",value:s.plotLength.ft},{id:"plotLength.in",value:s.plotLength.in}],[{id:"plotBreadth.ft",title:"Plot Breadth",value:s.plotBreadth.ft},{id:"plotBreadth.in",value:s.plotBreadth.in}],[{id:"pWallTkn.ft",title:"Plot wall thickness",value:s.pWallTkn.ft},{id:"pWallTkn.in",value:s.pWallTkn.in}],[{id:"gap.ft",title:"Setback gap",value:s.gap.ft},{id:"gap.in",value:s.gap.in}],[{id:"roomLength.ft",title:"Built-up Length",value:s.roomLength.ft},{id:"roomLength.in",value:s.roomLength.in}],[{id:"roomBreadth.ft",title:"Built-up breadth",value:s.roomBreadth.ft},{id:"roomBreadth.in",value:s.roomBreadth.in}],[{id:"bWallTkn.ft",title:"Builtup wall thickness",value:s.bWallTkn.ft},{id:"bWallTkn.in",value:s.bWallTkn.in}]],h=function(e,t){var a=t.split("."),n=Object(c.a)(a,2),r=n[0],o=n[1],u=Object(E.a)({},o,parseInt(e.target.value)),p=Object(i.a)({},s[r],u);d(Object(i.a)({},s,Object(E.a)({},r,p))),console.log("updateCallback",e,t),console.log("data",s),l(e,t,s)};return r.a.createElement(b.a,{theme:a},r.a.createElement(p.a,null),r.a.createElement(k.a,{className:"control-list",subheader:r.a.createElement(j.a,{component:"div",id:"nested-list-subheader"},"Area measures")},m.map(function(e,t){var a=Object(c.a)(e,2),n=a[0],l=a[1];return r.a.createElement(O.a,{className:"control-list-items",key:n.id},r.a.createElement(g.a,{variant:"body1"},n.title),r.a.createElement("div",{className:"input-metrics"},r.a.createElement(w.a,Object.assign({},n,{required:!0,key:n.id,type:"number",InputProps:{style:{width:"4rem",padding:0,fontSize:"0.85rem",marginRight:"5px"},endAdornment:r.a.createElement(y.a,{position:"start",style:{fontSize:"0.75rem"}},"ft")},size:"small",variant:"outlined",onChange:function(e){return h(e,n.id)}})),r.a.createElement(w.a,Object.assign({},l,{required:!0,key:l.id,type:"number",InputProps:{style:{width:"4rem",padding:0,fontSize:"0.85rem",marginRight:"5px"},endAdornment:r.a.createElement(y.a,{position:"start",style:{fontSize:"0.75rem"}},"in")},size:"small",variant:"outlined",onChange:function(e){return h(e,l.id)}}))))})))}var x=a(31),B=function(e){var t={};return Object.keys(e).map(function(a){var n=e[a];t[a]=Math.round(20*(parseFloat(n.ft)+parseFloat(n.in/12)),2)}),t},C=function(e){var t=e.plotProps,a=e.builtupProps,n=e.isSelected,l=e.onSelect,o=e.onChange,c=r.a.useRef(),u=r.a.useRef();return r.a.useEffect(function(){n&&(u.current.setNode(c.current),u.current.getLayer().batchDraw())},[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,Object.assign({},t,{onClick:l,ref:c,onTransformEnd:function(e){var a=c.current,n=a.scaleX(),r=a.scaleY();a.scaleX(1),a.scaleY(1),o(Object(i.a)({},t,{x:a.x(),y:a.y(),width:a.width()*n,height:a.height()*r}))}}),r.a.createElement(x.d,t),r.a.createElement(x.d,a)),n&&r.a.createElement(x.f,{ref:u}))},L=a(23),S=function(){var e=window.innerWidth,t=window.innerHeight;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.b,null,Object(L.a)(Array(Math.floor(e/20))).map(function(e,a){return r.a.createElement(x.c,{key:"c-".concat(a),points:[Math.round(20*a)+.5,0,Math.round(20*a)+.5,2*t],stroke:"lightblue",strokeWidth:1})})),r.a.createElement(x.b,null,Object(L.a)(Array(Math.floor(t/20))).map(function(t,a){return r.a.createElement(x.c,{key:"r-".concat(a),points:[0,Math.round(20*a),2*e,Math.round(20*a)],stroke:"lightblue",strokeWidth:1})})))},T=function(e){var t=e.config,a=Object(n.useState)([{x:100,y:50,width:t.plotLength,height:t.plotBreadth,stroke:t.pWallColor||"#000000",strokeWidth:t.pWallTkn,id:"plot".concat(1),draggable:!1}]),l=Object(c.a)(a,2),o=l[0],u=l[1],s=Object(n.useState)([{x:100+t.gap,y:50+t.gap,width:t.plotLength-t.gap,height:t.plotBreadth-t.gap,stroke:t.bWallColor||"#800000",strokeWidth:t.bWallTkn,id:"room".concat(1),draggable:!1}]),d=Object(c.a)(s,2),p=d[0],m=d[1],h=Object(n.useState)(null),f=Object(c.a)(h,2),g=(f[0],f[1]);Object(n.useEffect)(function(){var e=[Object(i.a)({},o[0],{width:t.plotLength,height:t.plotBreadth,strokeWidth:t.pWallTkn})];u(e);var a=[Object(i.a)({},p[0],{width:t.roomLength,height:t.roomBreadth,strokeWidth:t.bWallTkn})];m(a)},[t]);var b=r.a.createRef(),v=r.a.createRef();return r.a.createElement("div",{className:"plot-layout"},r.a.createElement(x.e,{width:.95*window.innerWidth,height:window.innerHeight-10,ref:b,onMouseDown:function(e){e.target===e.target.getStage()&&g(null)},onWheel:function(e){return function(e,t){if(e.evt.preventDefault(),null!==t.current){var a=t.current,n=a.scaleX(),r=a.getPointerPosition(),l=r.x,o=r.y,i={x:(l-a.x())/n,y:(o-a.y())/n},c=e.evt.deltaY>0?1.01*n:n/1.01;a.scale({x:c,y:c});var u={x:l-i.x*c,y:o-i.y*c};a.position(u),a.batchDraw()}}(e,b)}},r.a.createElement(S,null),r.a.createElement(x.b,{ref:v},o.map(function(e,t){return r.a.createElement(C,{key:t,plotProps:e,builtupProps:p[t],onChange:function(e){var a=o.slice();a[t]=e,u(a)}})}))))},P=(Object(u.a)({palette:{primary:{main:"#0052cc"},secondary:{main:"#edf2ff"}}}),Object(u.a)({palette:{mode:"dark"}})),M=function(){var e={plotBreadth:{ft:20,in:0},plotLength:{ft:30,in:0},pWallTkn:{ft:0,in:5},gap:{ft:2,in:0},roomBreadth:{ft:16,in:0},roomLength:{ft:26,in:0},bWallTkn:{ft:0,in:4}},t=Object(n.useState)(e),a=Object(c.a)(t,2),l=a[0],o=(a[1],B(e)),u=Object(n.useState)(o),s=Object(c.a)(u,2),d=s[0],p=s[1];return r.a.createElement("div",{className:"App"},r.a.createElement(v,{theme:P,updateColor:function(e,t){p(Object(i.a)({},d,{pWallColor:e,bWallColor:t})),console.log("updateColor",d)}}),r.a.createElement("div",{className:"main-section"},r.a.createElement(W,{props:l,theme:P,updateCallback:function(e,t,a){var n=B(a);p(n)}}),r.a.createElement(T,{config:d})))},F=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,368)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),l(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null))),F()}},[[157,3,2]]]);
//# sourceMappingURL=main.43fa15e2.chunk.js.map